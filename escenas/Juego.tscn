[gd_scene load_steps=20 format=2]

[ext_resource path="res://src/Juego.gd" type="Script" id=1]
[ext_resource path="res://assets/escenarios/bosque/capa5.png" type="Texture" id=2]
[ext_resource path="res://assets/escenarios/bosque/capa4.png" type="Texture" id=3]
[ext_resource path="res://assets/escenarios/bosque/capa3.png" type="Texture" id=4]
[ext_resource path="res://assets/escenarios/bosque/capa2.png" type="Texture" id=5]
[ext_resource path="res://src/pj1.gd" type="Script" id=6]
[ext_resource path="res://assets/personajes/sprite01.png" type="Texture" id=7]
[ext_resource path="res://src/pj2.gd" type="Script" id=8]
[ext_resource path="res://assets/personajes/sprite02.png" type="Texture" id=9]
[ext_resource path="res://assets/escenarios/bosque/capa1.png" type="Texture" id=10]
[ext_resource path="res://src/HUD.gd" type="Script" id=11]

[sub_resource type="RectangleShape2D" id=1]

extents = Vector2( 1231.67, 10 )

[sub_resource type="RectangleShape2D" id=2]


[sub_resource type="Animation" id=3]

resource_name = "golpear"
length = 0.2
tracks/0/type = "value"
tracks/0/path = NodePath("cuerpo/sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 1, 0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("cuerpo/puno:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}

[sub_resource type="Animation" id=7]

resource_name = "morir"
tracks/0/type = "value"
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.8 ),
"transitions": PoolRealArray( 5.65684, 0.138697 ),
"update": 0,
"values": [ 0.0, 90.0 ]
}

[sub_resource type="RectangleShape2D" id=4]

extents = Vector2( 9.05445, 1.12435 )

[sub_resource type="RectangleShape2D" id=5]

extents = Vector2( 10, 11.3384 )

[sub_resource type="Animation" id=8]

resource_name = "golpear"
length = 0.2
tracks/0/type = "value"
tracks/0/path = NodePath("cuerpo/sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 1, 0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("cuerpo/puno:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}

[sub_resource type="Animation" id=9]

resource_name = "morir"
tracks/0/type = "value"
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.8 ),
"transitions": PoolRealArray( 5.65684, 0.138697 ),
"update": 0,
"values": [ 0.0, 90.0 ]
}

[node name="Juego" type="Node"]
script = ExtResource( 1 )

[node name="mapa" type="StaticBody2D" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="mapa"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="mapa/ParallaxBackground"]
editor/display_folded = true
motion_scale = Vector2( 0.3, 0.3 )

[node name="capa5" type="TextureRect" parent="mapa/ParallaxBackground/ParallaxLayer"]
margin_left = -936.0
margin_top = -315.0
margin_right = 1464.0
margin_bottom = 585.0
texture = ExtResource( 2 )

[node name="ParallaxLayer2" type="ParallaxLayer" parent="mapa/ParallaxBackground"]
editor/display_folded = true
motion_scale = Vector2( 0.5, 0.5 )

[node name="capa4" type="TextureRect" parent="mapa/ParallaxBackground/ParallaxLayer2"]
margin_left = -936.0
margin_top = -315.0
margin_right = 1464.0
margin_bottom = 585.0
texture = ExtResource( 3 )

[node name="ParallaxLayer3" type="ParallaxLayer" parent="mapa/ParallaxBackground"]
editor/display_folded = true
motion_scale = Vector2( 0.9, 0.9 )

[node name="capa3" type="TextureRect" parent="mapa/ParallaxBackground/ParallaxLayer3"]
margin_left = -936.0
margin_top = -315.0
margin_right = 1464.0
margin_bottom = 585.0
texture = ExtResource( 4 )

[node name="ParallaxLayer4" type="ParallaxLayer" parent="mapa/ParallaxBackground"]

[node name="capa2" type="TextureRect" parent="mapa/ParallaxBackground/ParallaxLayer4"]
margin_left = -936.0
margin_top = -315.0
margin_right = 1464.0
margin_bottom = 585.0
texture = ExtResource( 5 )

[node name="ParallaxLayer5" type="ParallaxLayer" parent="mapa/ParallaxBackground"]
z_index = 2

[node name="suelo" type="CollisionShape2D" parent="mapa"]
position = Vector2( 277.486, 441.061 )
shape = SubResource( 1 )

[node name="pared1" type="CollisionShape2D" parent="mapa"]
position = Vector2( -936.898, 63.2066 )
scale = Vector2( 3.19993, 37.4394 )
shape = SubResource( 2 )

[node name="pared2" type="CollisionShape2D" parent="mapa"]
position = Vector2( 1464.07, 69.4521 )
scale = Vector2( 3.19993, 37.4394 )
shape = SubResource( 2 )

[node name="pj1" type="KinematicBody2D" parent="."]
position = Vector2( 63.3172, 335.171 )
script = ExtResource( 6 )
__meta__ = {
"_edit_group_": true
}

[node name="Camera2D" type="Camera2D" parent="pj1"]
position = Vector2( -12.0588, 0 )
offset = Vector2( 0, -80 )
current = true
limit_left = -935
limit_top = -300
limit_right = 1450

[node name="animacion" type="AnimationPlayer" parent="pj1"]
anims/golpear = SubResource( 3 )
anims/morir = SubResource( 7 )

[node name="cuerpo" type="Area2D" parent="pj1"]

[node name="puno" type="CollisionShape2D" parent="pj1/cuerpo"]
modulate = Color( 0.976471, 0.270588, 0.270588, 1 )
position = Vector2( 8.58095, -45.5707 )
scale = Vector2( 2.01238, 5.88869 )
shape = SubResource( 4 )
disabled = true

[node name="sprite" type="Sprite" parent="pj1/cuerpo"]
position = Vector2( -6.1293, -54.0917 )
scale = Vector2( 0.226251, 0.226251 )
texture = ExtResource( 7 )
vframes = 2

[node name="vulnerable" type="CollisionShape2D" parent="pj1"]
position = Vector2( -5.08728, -45.1607 )
scale = Vector2( 2.01238, 5.88869 )
shape = SubResource( 5 )

[node name="pj2" type="KinematicBody2D" parent="."]
position = Vector2( 196.504, 333.803 )
script = ExtResource( 8 )
__meta__ = {
"_edit_group_": true
}

[node name="Camera2D" type="Camera2D" parent="pj2"]
position = Vector2( -7, -126 )

[node name="vulnerable" type="CollisionShape2D" parent="pj2"]
position = Vector2( -11.3118, -46.2339 )
scale = Vector2( 2.01238, 5.88869 )
shape = SubResource( 5 )

[node name="animacion" type="AnimationPlayer" parent="pj2"]
anims/golpear = SubResource( 8 )
anims/morir = SubResource( 9 )

[node name="cuerpo" type="Area2D" parent="pj2"]

[node name="puno" type="CollisionShape2D" parent="pj2/cuerpo"]
modulate = Color( 0.976471, 0.270588, 0.270588, 1 )
position = Vector2( 27.681, -60.5687 )
rotation = -0.699535
scale = Vector2( 3.33923, -5.79527 )
shape = SubResource( 4 )
disabled = true

[node name="sprite" type="Sprite" parent="pj2/cuerpo"]
position = Vector2( -6.1293, -54.0917 )
scale = Vector2( 0.226251, 0.226251 )
texture = ExtResource( 9 )
vframes = 2

[node name="capa1" type="TextureRect" parent="."]
margin_left = -935.983
margin_top = -315.062
margin_right = 1464.02
margin_bottom = 584.938
texture = ExtResource( 10 )

[node name="HUD" type="CanvasLayer" parent="."]
layer = 2
script = ExtResource( 11 )

[node name="p1" type="ProgressBar" parent="HUD"]
margin_left = 28.1837
margin_top = 17.2207
margin_right = 190.184
margin_bottom = 31.2207
value = 100.0

[node name="p2" type="ProgressBar" parent="HUD"]
margin_left = 808.0
margin_top = 15.7576
margin_right = 992.0
margin_bottom = 29.7576
value = 100.0

[connection signal="vida_changed" from="pj1" to="HUD" method="_on_pj1_vida_changed"]
[connection signal="body_entered" from="pj1/cuerpo" to="pj1" method="_on_cuerpo_body_entered"]
[connection signal="vida_changed" from="pj2" to="HUD" method="_on_pj2_vida_changed"]
[connection signal="body_entered" from="pj2/cuerpo" to="pj2" method="_on_cuerpo_body_entered"]
